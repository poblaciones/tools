using NetTopologySuite.Features;
using NetTopologySuite.Geometries;
using NetTopologySuite.IO;
using Newtonsoft.Json;
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace wiki_getter
{
	static class Argentina
	{
		public static string Geo = @"{
																	'type': 'FeatureCollection',
																	'name': 'Argentina',
																	'features': [
																	{ 'type': 'Feature', 
																		'properties': { 'Id': 0, 'CODE': '032', 'NAME': 'Argentina' }, 
																		'geometry': { 'type': 'Polygon', 
																				'coordinates': [ [ [ -72.34724844351345, -44.345806532999546 ], [ -72.680927053915099, -42.254505967203372 ], [ -72.684583944816325, -42.124912265048586 ], [ -72.654799070733162, -41.998734764022863 ], [ -71.348263074591046, -38.546725505845814 ], [ -71.666312741196535, -36.938595053959865 ], [ -71.670499198045235, -36.768879135901805 ], [ -71.617656299134779, -36.607545173891396 ], [ -70.326636790282279, -34.170247781249529 ], [ -71.015032291751822, -31.307179873984307 ], [ -71.028601709755193, -31.17339711680858 ], [ -71.006027866396948, -31.040836274858457 ], [ -70.141259124103229, -28.280029184444881 ], [ -70.029867888994758, -28.088562817803517 ], [ -68.862060886715454, -26.835708560649046 ], [ -69.072416312058465, -24.803593834724289 ], [ -69.06687857297041, -24.661955167538313 ], [ -69.021815119732054, -24.527562222118327 ], [ -68.940847644145919, -24.411215986710239 ], [ -68.830483398131932, -24.322267058677408 ], [ -67.718026549309826, -23.661255061095236 ], [ -66.642131371080779, -21.520761473757052 ], [ -66.544996788513359, -21.387854137874946 ], [ -66.409965581880115, -21.29369437843922 ], [ -66.251674856929426, -21.248488920180176 ], [ -66.087283003472535, -21.257137942022663 ], [ -65.934609761132734, -21.31870390774462 ], [ -64.547946036542641, -22.166357532579561 ], [ -64.384691279471397, -21.798551327660938 ], [ -64.308405535758723, -21.677278895988266 ], [ -64.200860454002637, -21.582618594025536 ], [ -64.070886138161299, -21.522342607105578 ], [ -63.92915426844575, -21.501399959600253 ], [ -62.813102706314801, -21.498123886390477 ], [ -62.621836104750649, -21.535545925271887 ], [ -62.459406274168458, -21.643248627210991 ], [ -60.706768386854549, -23.382826552836658 ], [ -57.673548864415132, -24.61978715747729 ], [ -57.543962189765843, -24.697248600307649 ], [ -57.443403998603301, -24.809858686721519 ], [ -57.381042374839396, -24.947350538311174 ], [ -57.36256294778925, -25.097188758228256 ], [ -57.389650522398938, -25.245712307451221 ], [ -57.943204156066727, -26.851592204576836 ], [ -55.961148856744295, -26.934296611357698 ], [ -54.490180981235738, -25.17673790456341 ], [ -54.375057475042638, -25.075730864972947 ], [ -54.234760546986244, -25.014309242534559 ], [ -54.08245332834494, -24.998235821157255 ], [ -53.932425796393289, -25.029018663480851 ], [ -53.798754040506928, -25.103769619349524 ], [ -53.693979595951937, -25.21547530180667 ], [ -53.627932754719744, -25.353655106728638 ], [ -53.194821230749831, -26.793905825009546 ], [ -53.173641259872895, -26.93654881866145 ], [ -53.194052367678125, -27.079303858791345 ], [ -53.254356708022932, -27.210296230095562 ], [ -53.349538017575959, -27.318629664990315 ], [ -57.404066682386038, -30.770065701347399 ], [ -57.587182645053495, -33.042546149194671 ], [ -57.624409404768038, -33.195605110254277 ], [ -57.70740677468504, -33.329486825907871 ], [ -57.827937140613983, -33.430903333876373 ], [ -57.886426503770906, -33.46606792113149 ], [ -57.870305684910079, -33.85252236782938 ], [ -57.79747723438571, -33.961616793955223 ], [ -57.791742042449677, -33.973713819912525 ], [ -57.749016050096728, -34.114101837970857 ], [ -57.748886838236842, -34.260847500057295 ], [ -57.77009296101081, -34.330969151987055 ], [ -56.95420267437877, -34.854420006856557 ], [ -56.831707046003338, -34.965496247691682 ], [ -56.752139124859184, -35.110451606937048 ], [ -56.191953479899311, -36.715030081820537 ], [ -56.164077930635443, -36.871743936563348 ], [ -56.186868305166634, -37.029277670550208 ], [ -56.258014910386542, -37.171666009541838 ], [ -57.137344628564222, -38.394991776079472 ], [ -57.228793604741803, -38.491823005026973 ], [ -57.342561945157776, -38.561075924549606 ], [ -57.47057701145949, -38.597836568493634 ], [ -61.363055639694622, -39.170406125447919 ], [ -61.354439932560915, -39.260478965923923 ], [ -61.387370786630775, -39.411402536943292 ], [ -61.464798022940791, -39.545071488148892 ], [ -61.579331253459912, -39.64872719009464 ], [ -61.648319757600959, -39.67998303242306 ], [ -61.61675675015168, -39.825401395619643 ], [ -61.616081556540806, -39.837917846495266 ], [ -61.615109628952638, -39.84674368457528 ], [ -61.615720426211986, -39.859847158811469 ], [ -61.602753963941609, -39.978379817842253 ], [ -61.618749966073992, -40.063032809548936 ], [ -61.613332831786558, -40.085486962954896 ], [ -61.581886974479048, -40.178962323565386 ], [ -61.583247481901878, -40.344555837524339 ], [ -61.584601243609768, -40.352231233520712 ], [ -61.644093308337354, -40.515565282356469 ], [ -61.664880565176503, -40.540308097603145 ], [ -61.697783090352232, -40.664599208518872 ], [ -61.791412541528246, -40.803046171167502 ], [ -61.859738204419209, -40.874567064739672 ], [ -61.992057469929456, -40.973545659390233 ], [ -62.149412041221289, -41.023990571103262 ], [ -62.19641858535455, -41.022966693963482 ], [ -62.20897637762679, -41.10768623284843 ], [ -62.258658840958127, -41.2625222643264 ], [ -62.355399888870096, -41.393226944638194 ], [ -62.488967203773505, -41.485975616844378 ], [ -62.645233347366542, -41.530958237633705 ], [ -63.724739630344047, -41.657779189099294 ], [ -63.926976952623939, -41.640040082347426 ], [ -64.522341188841722, -41.461126768569208 ], [ -64.530703756321714, -41.723249635032403 ], [ -63.979297595278048, -41.930685892232262 ], [ -63.92027160061707, -41.878576631289789 ], [ -63.76861105793553, -41.815641659782443 ], [ -63.604741221934169, -41.805229758228052 ], [ -63.601539822489343, -41.805555804240015 ], [ -63.451058249671547, -41.845225218990834 ], [ -63.320061993149359, -41.929239188076707 ], [ -63.293357107162002, -41.961726816833398 ], [ -63.278404924954309, -41.975759925745955 ], [ -63.272912236199311, -41.982736503401895 ], [ -63.213069833230669, -42.043583780934071 ], [ -63.205851503526226, -42.058892781798136 ], [ -63.202041929127901, -42.062960302408129 ], [ -63.188048881014659, -42.090526297070845 ], [ -63.185875186483081, -42.093287230627489 ], [ -63.183475793775202, -42.099535177581728 ], [ -63.138220509822688, -42.188687083999774 ], [ -63.130501173883552, -42.229532416805256 ], [ -63.128894084745149, -42.233097819013388 ], [ -63.127204050573425, -42.239332289474959 ], [ -63.125859204459992, -42.254094475960713 ], [ -63.112036902583284, -42.327232440773138 ], [ -63.111557093413644, -42.337813002788906 ], [ -63.115315486987249, -42.369831378518676 ], [ -63.111509287176176, -42.411611498081776 ], [ -63.118243532690457, -42.437247359601947 ], [ -63.102367191984854, -42.470483580536744 ], [ -63.081166811443154, -42.62147427838768 ], [ -63.106457442563645, -42.771833950341808 ], [ -63.175887294690291, -42.907580562109089 ], [ -63.283000045056696, -43.016090956457141 ], [ -63.417835216035712, -43.087274688023307 ], [ -63.56785440580969, -43.114512339761013 ], [ -63.829949225257288, -43.121468874633244 ], [ -63.841955398449088, -43.171290397076824 ], [ -63.918567378253563, -43.299947442737988 ], [ -64.029839534817356, -43.400149927844211 ], [ -64.870788521439621, -43.95447940061586 ], [ -64.936470079715932, -44.403401276510571 ], [ -64.899043156716303, -44.528062655297688 ], [ -64.900652964609165, -44.67865680104623 ], [ -64.947032175361073, -44.821940285876877 ], [ -64.957479270906504, -44.836717174153975 ], [ -64.953541437459265, -44.84657100052015 ], [ -64.946080130973598, -45.013357178584315 ], [ -64.993944038860533, -45.173302002225206 ], [ -65.056298072037052, -45.259499736099549 ], [ -65.068951854702703, -45.286473548457387 ], [ -65.074125921527909, -45.294024002798963 ], [ -65.18293645168562, -45.408629506578016 ], [ -65.219199005406423, -45.428155224993944 ], [ -65.290871531234174, -45.492571066239272 ], [ -65.430008202340233, -45.555612436496965 ], [ -65.434798440402616, -45.5569488433092 ], [ -65.566383227635129, -45.575332470855024 ], [ -65.644877571980459, -45.565253682834587 ], [ -66.618127183496512, -46.081979331109594 ], [ -65.480510939090038, -46.778249834502319 ], [ -65.348870310320962, -46.895162443763518 ], [ -65.265915473355818, -47.05045670756958 ], [ -65.241932102404505, -47.224877495507229 ], [ -65.272080357520082, -47.971855063357367 ], [ -65.315596462321452, -48.156614793047424 ], [ -65.424842058161289, -48.31184110809042 ], [ -67.543886836661386, -50.352524240672693 ], [ -67.637830620956677, -50.423707007664625 ], [ -67.745827298809786, -50.470920760926127 ], [ -68.070411191946121, -50.569196131138838 ], [ -68.693810356997886, -51.110726848383486 ], [ -68.601780608173272, -51.199390248073399 ], [ -68.511322836397284, -51.317161175515388 ], [ -68.459445134905508, -51.456306078092346 ], [ -68.450723656461349, -51.604550928387297 ], [ -68.470958407315123, -51.687473962195369 ], [ -68.098371861448285, -51.910305798074731 ], [ -67.983096017568144, -52.005231784762593 ], [ -67.900994073001954, -52.129966438445486 ], [ -67.859389344893046, -52.273383695879609 ], [ -67.861992885643545, -52.422691045686982 ], [ -67.908572465009584, -52.564570592898782 ], [ -67.948569832869353, -52.620953566912121 ], [ -67.930503058427917, -52.632925899794138 ], [ -67.83512569547473, -52.750474437712953 ], [ -67.446483142496803, -53.414258245868581 ], [ -64.970449714609543, -54.181075318930588 ], [ -64.83254451304056, -54.248444189460187 ], [ -64.763036786411831, -54.314852495018236 ], [ -64.520728934180084, -54.245632799109416 ], [ -64.506818344624051, -54.235406261467134 ], [ -64.494801265934498, -54.22921876163268 ], [ -64.329451183992774, -54.177806357204538 ], [ -64.325122283435817, -54.178008304133179 ], [ -64.315718358370674, -54.174660630692514 ], [ -64.14685478675699, -54.145705206309067 ], [ -64.135478785368718, -54.145732017396639 ], [ -64.01758768749356, -54.160115087289142 ], [ -63.995789555542437, -54.165459835253706 ], [ -63.849536870195806, -54.227278092812618 ], [ -63.840440039389257, -54.235237599603188 ], [ -63.743430954464955, -54.23113020813782 ], [ -63.593644947848709, -54.272546438623458 ], [ -63.463810250473571, -54.357951961180177 ], [ -63.366469492345665, -54.479096208805743 ], [ -63.311026239217419, -54.624276088982839 ], [ -63.302836564807052, -54.779466556340637 ], [ -63.342691629398189, -54.929675496660835 ], [ -63.426741250111036, -55.060392034190357 ], [ -63.546865846309068, -55.158988349100902 ], [ -63.691460828501128, -55.215939583069606 ], [ -63.866172269366658, -55.2548561396747 ], [ -63.881604391047489, -55.268922448911333 ], [ -64.01158052497523, -55.331627376854222 ], [ -64.154051564885151, -55.354599232811196 ], [ -64.254882406982915, -55.341440395397029 ], [ -64.504488130233611, -55.397039474711576 ], [ -64.671570668141044, -55.405581210073159 ], [ -64.83211787592515, -55.358526669492036 ], [ -64.983476820141064, -55.284814579013997 ], [ -65.107005263053892, -55.199608042496543 ], [ -65.13722980188578, -55.16111911157693 ], [ -68.578232021234058, -55.394238076555432 ], [ -68.728703408022483, -55.381577937720913 ], [ -68.868533125949327, -55.324572961255335 ], [ -68.984967632325507, -55.228422438208014 ], [ -69.067387207183302, -55.101896033700498 ], [ -69.108274553184586, -54.956533926209204 ], [ -69.103900430791413, -54.805594254781745 ], [ -68.758480682009022, -52.913318444761714 ], [ -68.721629657651789, -52.806607730230454 ], [ -71.979722994767911, -52.494717777732745 ], [ -72.123288970327607, -52.45898656083078 ], [ -72.250114018802009, -52.382807060444065 ], [ -72.349094399610081, -52.272848916521973 ], [ -73.967977217279923, -49.825547170374882 ], [ -74.029868348504309, -49.693380438120393 ], [ -74.05095923076054, -49.548972225318224 ], [ -74.029453042596799, -49.404625278312999 ], [ -73.967181987131468, -49.272637123957026 ], [ -72.113170921951834, -46.487331767040565 ], [ -71.887711929675106, -45.524803657275818 ], [ -72.374221438531933, -45.172114824539271 ], [ -72.488963578311584, -45.056027847024552 ], [ -72.560203763813362, -44.909171519413562 ], [ -72.580350086624506, -44.747195994512722 ], [ -72.547255597848689, -44.58736264441837 ], [ -72.464447103683625, -44.446704554413465 ], [ -72.34724844351345, -44.345806532999546 ] ] ] 
																				}
																	}]}";
		public static Geometry Get()
		{
			var shpFilename = @"D:\Pablo\Sociologia\Mapa Social\tools\src\wikimapia\wiki-getter\input\simplified-polygon.shp";
			return doGet(shpFilename);
		}
		public static Geometry GetPrecise()
		{
			var shpFilename = @"D:\Pablo\Sociologia\Mapa Social\tools\src\wikimapia\wiki-getter\input\Argentina.shp";
			return doGet(shpFilename);
		}
		private static Geometry doGet(string shpFilename)
		{
			GeometryFactory factory = new GeometryFactory();
			ShapefileDataReader shapeFileDataReader = new ShapefileDataReader(shpFilename, factory);
 
			//Display the shapefile type
			ShapefileHeader shpHeader = shapeFileDataReader.ShapeHeader;
			while (shapeFileDataReader.Read())
			{
				return (Geometry)shapeFileDataReader.Geometry;
			}
			return null;
		}
	}
}